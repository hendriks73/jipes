language: java
jdk: oraclejdk8

before_install:
- openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in $GPG_DIR/pubring.gpg.enc -out $GPG_DIR/pubring.gpg -d
- openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in $GPG_DIR/secring.gpg.enc -out $GPG_DIR/secring.gpg -d

install: mvn --settings travis/settings.xml install -DskipTests=true -Dgpg.skip -Dmaven.javadoc.skip=true  -B -V

deploy:
  provider: script
  script: mvn versions:set -DnewVersion=${TRAVIS_TAG} && mvn clean deploy -DskipTests=true
    -B -U -P release --settings travis/settings.xml
  on:
    branch: master

after_success:
- mvn clean test jacoco:report coveralls:report

env:
  global:
  - GPG_DIR="`pwd`/travis"
  - secure: HAlj6L0zmQ0bwmGKUSey/3wO/4USoQT6PZFyMBPmxykXshI0R8xieZdyd5/qjxQJ8Sq3fG/YtfdkkLXwj7zPyFsG7BUPxP1ege/AzX4/dmx6ptKm28e4vBvuuPkiSRVLaVp1keHL+TcbM1qt4PLKgkB3J7acRnNoHXLaiplyUU9tI94P5yNe1iceiVvNUh8fNh0b4q+hJxGUO8qmdrmgX2HS4VbRkODj9o1kC0J0TzVyy8oCNW0C+S2NFKAfJg3TjElJOSlbIEoLSCTwNxzu81F1kE4KXaBQauhTiNhN7fmWx82TXDLlLQApCHxKnwSWIo9njEGLPYLUnGsk5LApg3ZA69+823Z/4ccqH1q8x6HoCgoKwOam/9ovuuCqI/19ENtpsp//zI6v9aoX+3pgYcUWfLoIV+6/h5LRz/twKj9NFzD0OFNPP+nq3L+iQRGl8RncxK7pErF/9l8ydhU47nekedItelbu4tInkeLNt5jjqpEvY56hl4Z40ncFqY83bdIVywlY6bHlDD5UcOAuqtFtlRisaGnQP28nuFtRTNzh5l6OZrFpd8WY5pdi7PPpTpw9CEaaJMs6BNt3PB+TfSE4fTbWL3om8ZGwqKagBpLemuf/1wYzUSFTiiPPQikfOPB2UR3So23ztAN+eicceSsodXYSfrD6vDXixSJlEMQ=
  - secure: dAI54aNxuRqdfOk939DrUBOZJ16CBA9vcxfU2b52zFTgGXVGWtvBia0fVa6WW6K4AO3dwOztBS3/0clfeATbRsHApODMpIDhK8/W5hRFWDHtScBlMyPkC4t/8XiwtkNbAZKqqJuSbgOzIEadUgzw8li7F/cBT7b08hBnYIpUVu+Rqvkjfxnai8YK6b65eRWZq7UkuZyvB9HF9CYjcSPFaEPJZ5sTvDacmDg2YY6p9z2o6E+WtLWRijvfsQJ380IeZKQpbeS4XFv0Lf42Wf09lDUlpNCE4ddcn80xOsihFAeuCYmIkFwP1PiVRqByQVQHMn4dshzOcR6MYLlweWXm5bAVeLdjce0aBUrsyFR0+MSVjOaT8hNgku6Gd9ZZPOQrekkMZuMRnsYKLnK30WN31PSHJ5YmkHxlPi4kNMEEgPdqEg87tm++LXca12l7tSWReJTPPaQkSDWmd/OZXjoQ42yWnrA/32wCYeAv6OgySzIvnMRunb+AaFeYbgNIBOhAsILSlFED48jH1mJICg4xec3YOXV7dRJ2XXHfeTYacc/5S5K2iKArAjKP2mkuWh5QVM41AfEXZyY0v1EUy/XCvMjuH+O1lETfrIiNDtSmPcU+WWXsJyoxq7rtEix/VFGM0PBxyXf6vzpvUIOXdsl24xsRgxRW/OaT9QDaajC2pAI=
  - secure: RVYtRv2g28fHWAGsrUUiPPlHHo448rV0+MKXjxdwKXgysQ21u5ZKZP7bgxF/+VrzIKxIl0SuSftgmkl1b8mmBHjJhsRanbcLEa8IbhUFkLrjV94illDsZ2xjWLH16m/lCKpXLWr0GCzIK2R1G29UNBC4ltckygZ2AQAxV+W3TLfAEFzOTVYb23+HTi9Y+Z0Im/oXH/Ksa66dkONpZsopOKWca6jA/hmbd5i+qecw1Xrl6ZHVq8OWVtIg4MjxQRi1wQez1a6PD1Kq4IGr/fd1SY1I+YiN5l4W+P+aptGIplbygyH+cl4cH/05hSxVPLgvMzR1EL6DKSUfS9trZiA6GV4gpqYsxAaFv7TYKiTV6EV7DvzFxX5urieebzekgtPOAHWfMZP06HT6aVLr9E9SXwj3SKHsRnMLpCmqLNwltsgP2sOQ9MhFyq74BLiuSnu26bkkz7WPqGr6YlHwEXYyQ/GCVaq/ORdly/2ZZXn5cRhK6o5Er8KWNCcoE4hwf7ufloESmcSklm0gZxY64yBAwlsSo3xEkkllpwhSGKbVPQi6NGQeNRY0lgIogri/BX54j/XxXimfivPPK75Qno5JYOa+p6iRqcE9qqeLp/5OHRNhqsJEn76HAzWjoVA8eJIUbVBswqquF0RLjFJryQQfMHxedHt4RaXK/2aF3kjWnRw=
  - secure: jtSD3AgAguCNF96KTY/opWCH/h1SmC4BDAewwEfAqfpEmgoOVhQ/OJP1IHTMuODgfKZgJNQ69sLf4yzYMhRvwcpSExM5rvQ2cB2R/M4VZPKxnx0cD4WT7CpydCQJAK0zwKzIJ5sHiw2DJ+9atQEMrLDzhFiLvhuRZ2jt0E86yJxNZHkAUBA8anABUK308oHjGq8iN9xZVRQlMmgyyc7xJGNVYt+0DbTxNFOjFjQXaTaEDlAEqMaHLmYWQdWuUbiIwTopfayM1g0++gfKSsCsTyJ7LX+l0bvyF83XqrdOsXMmr+9MoqSOql5UtwPNzUixQaR+p9ZdceiQQFpDlT87PvN7kvSWnZUDy3E+2Ef9zvmpV5ay49+HbCMSMVQ8/nq4KQ5C0aZZHt2cOB7T3focMDq8Sm1SeBM3b98DulutO67h8Sc+//8PJK2Uc5eZcpr4KL8dCqkhC/dyIAS9Z8Yp1wJFa8c8/bCwfjM32l54LtOTTAfhl526y6jmCCgqvugOIcs7hUoKIvGNgrSkY7pGS/bK8qfrrPTYqQBWpoMYPi9Koonq4N+W7iVFjcidK8MxH6Pr0a78BmZrwrkKcpJJ09bTCSAl2nFsVbxchXAGFBNLrSp/U9yIiNNUmiVySeQ/XLW2TWzCJBiKMjMgs1f4bXihs3m+Q8AWYyfRvm5F2zA=
  - secure: Y2EpzpiBhxb3oFTeoPWg9wm55MdMeIi9M1PUUdCoTiDHS12R3Tm5aMNH06wTDuxIzO53/eXS6Y5UhxBO4kS/i/apKzxAYHVDGDmku7Jp02R6XVVXdl+bM24sujmD0PcgSFQCdxD2c3R3+N/xhgHSdh7tF+squx/8NWgnnUZNYWQyX11fKHqXLSoFG4tqoeM1n21c77Bw4lVmUdK2gynV9uLO0vmpHtu8bIJv1KeUyV+Jarz8LRtq1xRGfXow9sIwqHqjFlQ46q9yKVo9G9Yn51KorccceWfdK2lu6D1ne0Eoozst02CMXD9oporKbeecWRwVbC2pmj6WoW018R1iVKD0AAVEWCR05ORXxwwOHt+Km9rfDTahTTAUTLB5Z1E7OxGtqc9iJ3cWmy0jqrdX1tBvz0dAIUbtfY52ZYVT2+0Nd/MeWSj9lCxTKp2u1yw4PITj9ysQoyL8mddLqEQ9jfscKhgkrGTPEeonQ1dyfzxbk50ygztdxu9yUsY/evc63xtJ41bROkJEY/2njcPZk7Vx5YX9K1Bt3vyGV25XG3be6W/gjbk8PVkJM4vkG6n6875f4A0gixIpQHHQkLqr3a2u8Ei7MBl5GSXR1Y3IdfKCb5X2OZardKHAvXx2Rzw6+Qz3UD6vaLB+vTN6PrdGzCftEHWDQ2kO8P/ZtwT7Ziw=
